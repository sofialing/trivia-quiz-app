(this["webpackJsonpquiz-app"]=this["webpackJsonpquiz-app"]||[]).push([[0],{38:function(e,t,a){e.exports=a(77)},43:function(e,t,a){},77:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(33),c=a.n(s),o=(a(43),a(7)),i=a(8),l=a(10),u=a(9),m=a(11),d=a(14),p=a(12),h=[{id:27,name:"Animals"},{id:10,name:"Books"},{id:11,name:"Film"},{id:9,name:"General knowledge"},{id:22,name:"Geography"},{id:23,name:"History"},{id:12,name:"Music"},{id:17,name:"Science & nature"},{id:21,name:"Sports"},{id:15,name:"Video Games"}],b=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={name:"",id:"",startQuiz:!1},a.handleOnSubmit=function(e){e.preventDefault(),a.state.id&&a.setState({startQuiz:!0})},a.handleChange=function(e){var t=e.target,n=t.value,r=t.options,s=t.selectedIndex;a.setState({name:r[s].innerHTML,id:n})},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e={pathname:"/quiz",state:{id:this.state.id,category:this.state.name}},t=h.map((function(e){return r.a.createElement("option",{value:e.id,key:e.id},e.name)}));return this.state.startQuiz?r.a.createElement(p.a,{to:e}):r.a.createElement("form",{className:"input-group",onSubmit:this.handleOnSubmit},r.a.createElement("select",{className:"custom-select","aria-label":"Choose a quiz category",onChange:this.handleChange},r.a.createElement("option",{defaultValue:!0},"Choose a category..."),t),r.a.createElement("div",{className:"input-group-append"},r.a.createElement("button",{className:"btn btn-primary",type:"submit"},"Start quiz")))}}]),t}(n.Component),f=function(){return r.a.createElement("section",{id:"start",className:"text-white text-center mb-5 container"},r.a.createElement("h1",{className:"display-3 font-weight-bold"},"Trivia Quiz"),r.a.createElement("p",{className:"lead mb-5"},"Are you a trivia master? Do you know a little about a lot? Put your skills to the test and see how much you really know with this quiz! Choose a category in which to play the Trivia Quiz from General Knowledge, Animals, Entertainment, Geography and many more."),r.a.createElement(b,null))},w=a(37),E=a(16),v=a(36),y=a.n(v),g=a(6),N=a.n(g),O=function(e){return r.a.createElement("div",{className:"progress mb-4"},r.a.createElement("div",{className:"progress-bar progress-bar-striped progress-bar-animated",role:"progressbar","aria-valuenow":e.number,"aria-valuemin":"0","aria-valuemax":"100",style:{width:e.number+"%"}}))},q=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={answer:""},a.checkAnswer=function(e){if(e.preventDefault(),a.state.answer){var t={correct:a.state.answer===a.props.correct,answer:a.state.answer};a.setState({answer:""}),a.props.onHandleResult(t)}},a.onInputChange=function(e){a.setState({answer:e.target.value})},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this,t=this.props.options.map((function(t,a){return r.a.createElement("div",{className:"custom-control custom-radio",key:a},r.a.createElement("input",{type:"radio",id:t,name:t,className:"custom-control-input",value:t,onChange:e.onInputChange,checked:e.state.answer===t}),r.a.createElement("label",{className:"custom-control-label",htmlFor:t},N()(t)))}));return r.a.createElement("form",{onSubmit:this.checkAnswer},r.a.createElement("div",{className:"mb-4"},t),r.a.createElement("button",{className:"btn btn-secondary",type:"submit"},"Next question"))}}]),t}(n.Component),j=function(e){var t=e.question,a=t.question,n=t.incorrect_answers,s=t.correct_answer,c=[].concat(Object(E.a)(n),[s]);return c.sort((function(){return.5-Math.random()})),r.a.createElement("section",{className:"container"},r.a.createElement("div",{className:"card mb-5 shadow-sm"},r.a.createElement("div",{className:"card-body"},r.a.createElement("h2",{className:"card-title text-muted"},e.category," Quiz | Question ",e.number+1),r.a.createElement(O,{number:10*e.number}),r.a.createElement("h3",{className:"card-subtitle mb-3"},N()(a)),r.a.createElement(q,{options:c,correct:s,onHandleResult:e.onHandleResult}))))},k=function(){return r.a.createElement("div",{className:"d-flex justify-content-center"},r.a.createElement("div",{className:"spinner-border text-white",role:"status"},r.a.createElement("span",{className:"sr-only"},"Loading...")))},S=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={loaded:!1,questions:[],current:0,score:0,quizOver:!1},a.getQuestions=function(){var e=a.props.location.state?a.props.location.state.id:9,t="https://opentdb.com/api.php?amount=10&category=".concat(e,"&difficulty=easy&type=multiple");y.a.get(t).then((function(e){var t=e.data.results.map((function(e){return{question:e.question,correct_answer:e.correct_answer,incorrect_answers:e.incorrect_answers,user_answer:"",correct:""}}));a.setState({loaded:!0,questions:t})})).catch((function(e){return console.error(e)}))},a.handleResult=function(e){e.correct&&a.setState((function(e){return{score:e.score+1}})),a.saveUserAnswer(e),a.showNextQuestion()},a.saveUserAnswer=function(e){var t=a.state.current,n=e.correct,r=e.answer,s=Object(E.a)(a.state.questions);s[t]=Object(w.a)({},s[t],{user_answer:r,correct:n}),a.setState({questions:s})},a.showNextQuestion=function(){a.state.current!==a.state.questions.length-1?a.setState((function(e){return{current:e.current+1}})):a.setState({quizOver:!0})},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.getQuestions()}},{key:"render",value:function(){var e=this.state,t=e.current,a=e.questions,n=e.quizOver,s=e.loaded,c=e.score,o=this.props.location.state?this.props.location.state.category:"General knowledge",i={pathname:"/result",state:{result:{questions:a,score:c}}};return n?r.a.createElement(p.a,{to:i}):s?r.a.createElement(j,{question:a[t],number:t,onHandleResult:this.handleResult,category:o}):r.a.createElement(k,null)}}]),t}(n.Component),z=a(20),C=function(e){var t=e.showAnswers,a=e.questions.map((function(e,t){return r.a.createElement("li",{className:"list-group-item",key:t},r.a.createElement("span",{className:"d-block font-weight-bold"},N()(e.question)),e.correct?r.a.createElement("span",{className:"d-block"},"Your answer: ",N()(e.user_answer)," is correct."):r.a.createElement("span",{className:"d-block"},"Your answer: ",N()(e.user_answer)," is incorrect. Correct answer is ",N()(e.correct_answer),"."))}));return t?r.a.createElement("div",{className:"overflow-auto mt-4",style:{height:"50vh"}},r.a.createElement("ul",{className:"list-group list-group-flush "},a)):""},x=function(e){var t=Object(n.useState)(!1),a=Object(z.a)(t,2),s=a[0],c=a[1],o=Object(n.useState)(!1),i=Object(z.a)(o,2),l=i[0],u=i[1];if(!e.location.state)return r.a.createElement(p.a,{to:"/"});var m=e.location.state.result,d=m.questions,h=m.score;return l?r.a.createElement(p.a,{to:"/"}):r.a.createElement("section",{className:"container"},r.a.createElement("div",{className:"card mb-5 shadow-sm"},r.a.createElement("div",{className:"card-body"},r.a.createElement("h2",{className:"card-title"},"Congratulations! You have completed the quiz."),r.a.createElement(O,{number:"100"}),r.a.createElement("h3",{className:"card-subtitle mb-4"},"You got ",h," out of ",d.length," questions right."),r.a.createElement("button",{className:"btn btn-secondary mr-2",onClick:function(){c(!s)}},"Show answers"),r.a.createElement("button",{className:"btn btn-secondary",onClick:function(){return u(!0)}},"Start new quiz"),r.a.createElement(C,{showAnswers:s,questions:d}))))},A=function(e){function t(){return Object(o.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement(d.a,{basename:"/"},r.a.createElement(p.d,null,r.a.createElement(p.b,{exact:!0,path:"/",component:f}),r.a.createElement(p.b,{path:"/quiz",component:S}),r.a.createElement(p.b,{path:"/result",component:x}),r.a.createElement(p.a,{to:"/"})))}}]),t}(n.Component);c.a.render(r.a.createElement(A,null),document.getElementById("root"))}},[[38,1,2]]]);
//# sourceMappingURL=main.2c88cabb.chunk.js.map